# Домашнее задание по docker compose



## Структура
```
    ├── db                   # Redis база данных (персистентное хранилище)
    ├── server               # Веб-сервер на go
    ├── docker-compose.yaml                  
    ├── .gitignore           
    └── README.md
```

## Сборка и запуск
Скачайте репозиторий приложения
```
git clone https://github.com/vanc0uv3r/cloud-computing-course.git && cd cloud-computing-course/compose-task
```
Убедитесь, что на вашей машине установлен плагин **_docker-compose_**    
Для **сборки** используйте команду:  
```
docker-compose build
```      
Для **запуска** используйте команду:     
```
docker-compose up -d
```

Для **остановки** используйте команду:     
```
docker-compose down
```


## Использование
После запуска приложения используйте браузер или любой http клиент. Веб сервис будет доступен по адресу машины в сети или localhost. Порт **_8888_**    
Приложение предоставляет методы для просмотра значения переменной `var` в базе данных `Redis`, которое при первом запуске инициализируется как 0.

Доступные методы:
- /add - Прибавить 1 к переменной
- /sub - Отнять 1 от переменной
- /get-current - Вернуть текущее значение переменной
- /save - сохранить состояние базы данных на диск

При вызове метода _/save_ текущее состоянии базы данных сохранияется на хостовой машине в **_./db/data/dump.rdb_** и 
при перезапуске приложения будет использовано базой данных

